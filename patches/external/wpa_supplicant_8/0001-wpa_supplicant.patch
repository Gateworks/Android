diff --git a/wpa_supplicant/Android.mk b/wpa_supplicant/Android.mk
index b8647a6..bd7d192 100644
--- a/wpa_supplicant/Android.mk
+++ b/wpa_supplicant/Android.mk
@@ -1539,6 +1539,9 @@ endif
 ifneq ($(BOARD_WPA_SUPPLICANT_PRIVATE_LIB_QCOM),)
 LOCAL_STATIC_LIBRARIES += $(BOARD_WPA_SUPPLICANT_PRIVATE_LIB_QCOM)
 endif
+ifneq ($(BOARD_WPA_SUPPLICANT_PRIVATE_LIB),)
+LOCAL_STATIC_LIBRARIES += $(BOARD_WPA_SUPPLICANT_PRIVATE_LIB)
+endif
 LOCAL_SHARED_LIBRARIES := libc libcutils liblog
 ifeq ($(CONFIG_TLS), openssl)
 LOCAL_SHARED_LIBRARIES += libcrypto libssl libkeystore_binder
@@ -1551,6 +1554,7 @@ LOCAL_SRC_FILES := $(OBJS)
 LOCAL_C_INCLUDES := $(INCLUDES)
 include $(BUILD_EXECUTABLE)
 
+ifneq ($(SKIP_WPA_SUPPLICANT_RTL),y)
 ########################
 include $(CLEAR_VARS)
 LOCAL_MODULE := rtl_wpa_supplicant
@@ -1572,6 +1576,7 @@ LOCAL_CFLAGS += -DREALTEK_WIFI_VENDOR
 LOCAL_SRC_FILES := $(OBJS)
 LOCAL_C_INCLUDES := $(INCLUDES)
 include $(BUILD_EXECUTABLE)
+endif
 
 ########################
 #
@@ -1590,12 +1595,14 @@ include $(BUILD_EXECUTABLE)
 
 local_target_dir := $(TARGET_OUT)/etc/wifi
 
+ifneq ($(SKIP_WPA_SUPPLICANT_CONF),y)
 include $(CLEAR_VARS)
 LOCAL_MODULE := wpa_supplicant.conf
 LOCAL_MODULE_CLASS := ETC
 LOCAL_MODULE_PATH := $(local_target_dir)
 LOCAL_SRC_FILES := $(LOCAL_MODULE)
 include $(BUILD_PREBUILT)
+endif
 
 ########################
 
